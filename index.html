<!--
<script>
    /*let myPromise = new Promise((resolve) => {
        setTimeout(() => {
            alert('Hello')
            resolve()
        }, 3000)
    })
    myPromise.then(() => {
        console.log('Promise is resolved')
    })

    let myPromise = new Promise((resolve) => {
        setTimeout(() => {
            resolve(Math.random())
        }, 3000)
    })
    myPromise.then((num) => {
        console.log('Promise is resolved: ' + num)
    })
    myPromise.then((num) => {
        console.log('Promise is resolved: ' + num)
    })
    console.log('finish')*/

    let doAfter = (num) => {
        let promise = new Promise((resolve) => {
            setTimeout(() => {
                resolve()
            }, num)
        })
        return promise
    }
    /*doAfter(5000).then( () => console.log('5sec') );
    doAfter(3000).then( () => console.log('3sec') );
    doAfter(10000).then( () => console.log('10sec') );*/


    /*let promise3 = doAfter(3000);
    promise3.then( () => console.log('1') );
    promise3.then( () => console.log('2') );
    promise3.then( () => console.log('3') );*/

    /*let promise = doAfter(3000)

    setTimeout(() => {
        promise.then(() => {
            console.log('promise is resolved'); })
    }, 5000);*/

    /*let promise = new Promise((resolve) => {
        let i = 0;
        setInterval(() => {
            i++;
            resolve(i);
        }, 5000)
    })*/

    /*let callback1 = () => {
        console.log('My promise is resolved');
        return name = 'it-kamasutra.com';
    }
    let callback2 = (name) => console.log('My promise is resolved too: ' + name);

    let pr1 = doAfter(3000);
    let pr2 = pr1.then(callback1);
    pr2.then(callback2);

    doAfter(3000)
    .then(() => {
        console.log('My promise is resolved')
        return name =  'it-kamasutra.com';
    })
    .then((name) => {
        console.log('My promise is resolved too: ' + name)
    })*/

    /*let pr = new Promise((resolve) => {
        let data = {
            cities: [{title: "Minsk"}, {title: "Kiev"}],
            website: "it-kamasutra.com"
        };
        resolve(data);
    });

    pr.then(data => {
        console.log(data);
        return website = data.website
    })
        .then(website => {
            console.log(website);
        })
*/



</script>-->

<!--<script src="axios.js"></script>
<script src="api.js"></script>

<script>
    api.sendStudentsCountToItKamasutra(20)
        .then(res => {
            console.log(res);
            return data = res.data
        })
        .then(data => {
            console.log(data.requestedCount)
        });
</script>-->

<!--<script>
    let getRandomAfter = (num) => {
        let promise = new Promise((resolve) => {
            setTimeout(() => {
                resolve(Math.random())
            }, num)
        })
        return promise
    }
    // getRandomAfter(5000).then(number => console.log(`i give ${number} after 5 sec`))

    let promises = [getRandomAfter(1000),getRandomAfter(2000), getRandomAfter(3000)];
    let commonPromise = Promise.all(promises);
    commonPromise.then( number => {
        console.log(`i give ${number[0]} after 1 sec`)
        console.log(`i give ${number[1]} after 2 sec`)
        console.log(`i give ${number[2]} after 3 sec`)
    } );
</script>-->
<script src="axios.js"></script>
<script src="api.js"></script>
<script>
    /*let msVacancies;
    api.getVacanciesCountFromMicrosoft()
        .then(msCount => {
            msVacancies = msCount
            return api.getVacanciesCountFromGoogle();
        })
        .then(gCount => {
            return api.sendStudentsCountToItKamasutra(gCount + msVacancies);
        })
        .then(res => {
            console.log(res.data);
        });*/

    function loadVacanciesPromiseV() {
        let msVacancies;
        api.getVacanciesCountFromMicrosoft()
            .then(msCount => {
                msVacancies = msCount
                return api.getVacanciesCountFromGoogle();
            })
            .then(gCount => {
                return api.sendStudentsCountToItKamasutra(gCount + msVacancies);
            })
            .then(res => {
                console.log(res.data);
            });
    }

    async function loadVacanciesAsyncAwaitV() {
        let msCount = await api.getVacanciesCountFromMicrosoft()
        console.log(msCount)
        let gCount = await api.getVacanciesCountFromGoogle()
        console.log(gCount)
        let res = await api.sendStudentsCountToItKamasutra(msCount + gCount)
        console.log(res.data)
    }

    loadVacanciesPromiseV();
    loadVacanciesAsyncAwaitV();
</script>

